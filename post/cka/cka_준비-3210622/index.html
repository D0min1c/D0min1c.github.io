<!doctype html><html class=no-js lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#1b1b1b"><title>CKA ì¤€ë¹„-3 (GKE ë§›ë³´ê¸°) | 255.255.248.0</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content><meta property="og:title" content="CKA ì¤€ë¹„-3 (GKE ë§›ë³´ê¸°)"><meta property="og:description" content="2021-06-15ë¶€í„° CKA ì·¨ë“ì„ ìœ„í•´ ì´ë¡ ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤."><meta property="og:type" content="article"><meta property="og:url" content="https://21sub.net/post/cka/cka_%EC%A4%80%EB%B9%84-3210622/"><meta itemprop=name content="CKA ì¤€ë¹„-3 (GKE ë§›ë³´ê¸°)"><meta itemprop=description content="2021-06-15ë¶€í„° CKA ì·¨ë“ì„ ìœ„í•´ ì´ë¡ ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤."><meta itemprop=wordCount content="246"><meta itemprop=keywords content="k8s,CKA,Kubernetes,"><meta name=twitter:card content="summary"><meta name=twitter:title content="CKA ì¤€ë¹„-3 (GKE ë§›ë³´ê¸°)"><meta name=twitter:description content="2021-06-15ë¶€í„° CKA ì·¨ë“ì„ ìœ„í•´ ì´ë¡ ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤."><link rel=stylesheet href=/css/bundle.css><link rel=stylesheet href=/css/custom.css><link rel=icon href=/icons/16.png sizes=16x16 type=image/png><link rel=icon href=/icons/32.png sizes=32x32 type=image/png><link rel=manifest href=/manifest.json><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-199142344-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="body kind-page"><header class=header><a class=logo href=/>255.255.248.0</a><nav class="main-nav main-nav--right" role=navigation><button id=toggle class=main-nav__btn aria-label="Menu toggle" aria-expanded=false tabindex=0><div class=main-nav__btn-box tabindex=-1><svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18"><path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/><path class="icon-menu__x" d="M11.55 9 18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55.0 9 6.45 15.45.0 18 2.55 11.55 9z"/></svg></div></button><ul id=menu class=main-nav__list><li class=main-nav__item><a class=main-nav__link href=/about_dominic/><span class=main-nav__text>About Dominic</span></a></li><li class=main-nav__item><a class=main-nav__link href=/post/certificate/aws-saa/><span class=main-nav__text>AWSKRUG beginner group Study ê´€ë ¨</span></a></li></ul></nav></header><div class=primary><main class=main><nav class="breadcrumb block" aria-label=breadcrumb><ol class=breadcrumb__list><li class=breadcrumb__item><a class=breadcrumbs__link href=/>21sub.net</a></li><li class=breadcrumb__item><a class=breadcrumbs__link href=/post/>Posts</a></li><li class="breadcrumbs__item breadcrumb__item--active" aria-current=page>CKA ì¤€ë¹„-3 (GKE ë§›ë³´ê¸°)</li></ol></nav><div class="single block"><article class=entry><div class="entry__meta meta mb"><span class="entry__meta-categories meta-categories"><span class=meta-categories__list>Categories:
<a class=meta-categories__link href=/categories/cka/ rel=category>CKA</a></span></span></div><h1 class=entry__title>CKA ì¤€ë¹„-3 (GKE ë§›ë³´ê¸°)</h1><div class=entry__content><p>2021-06-15ë¶€í„° CKA ì·¨ë“ì„ ìœ„í•´ ì´ë¡ ì ìœ¼ë¡œ ê³µë¶€í•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤.</p><h2 id=ë°°ê²½>ë°°ê²½</h2><p>GCPì—ì„œ ì„œë¹„ìŠ¤í•˜ëŠ” Managed k8s í™˜ê²½ì„ ë§›ë³´ê³  ì‹¶ì–´ì¡Œë‹¤.</p><h2 id=gke-í´ëŸ¬ìŠ¤í„°-ìƒì„±>GKE í´ëŸ¬ìŠ¤í„° ìƒì„±</h2><p>ì„¸ìƒì´ ì´ë ‡ê²Œ ì¢‹ì•„ì¡Œë‹¤. ì§§ì€ CLI í•œì¤„ë¡œ GKE í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p><pre><code>gcloud container clusters create dominic-gke-1

&lt;---ê²°ê³¼ê°’---&gt;
kubeconfig entry generated for dominic-gke-1.
NAME           LOCATION       MASTER_VERSION   MASTER_IP     MACHINE_TYPE  NODE_VERSION     NUM_NODES  STATUS
dominic-gke-1  us-central1-a  1.19.9-gke.1900  ë¹„-ë°€-ì„       e2-medium   1.19.9-gke.1900        3      RUNNING

</code></pre><p><img src=/img/gke_1.jpg alt="This is an image"></p><p>3ëŒ€ì˜ ë…¸ë“œë¡œ ì´ë¤„ì§„ GKEê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„° ì‚¬ìš©ì ì¸ì¦ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤.</p><pre><code>gcloud container clusters get-credentials dominic-gke-1
</code></pre><p>ì´ì œ GKE ì…‹íŒ…ì€ ì™„ë£Œí•˜ì˜€ìœ¼ë‹ˆ, ë­ë¼ë„ ë°°í¬í•´ë³´ì ì œì¼ ì¢‹ì•„í•˜ëŠ” Hello, worldë¥¼&mldr;kubtctl create deploymentë¥¼ í†µí•´ ìƒˆ ë°°í¬ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.</p><pre><code>kubectl create deployment hello-server --image=gcr.io/google-samples/hello-app:1.0
</code></pre><p>ë°°í¬ê°€ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì¡Œë‹¤ë©´ íŒŒë“œê°€ ì˜¬ë¼ì™€ìˆëŠ”ì§€ í™•ì¸í•´ë³´ì.</p><pre><code>kubectl get pod -o wide

&lt;---ê²°ê³¼ê°’---&gt;
NAME                            READY   STATUS    RESTARTS   AGE    IP          NODE                                           NOMINATED NODE   READINESS GATES
hello-server-76d47868b4-q5mrf   1/1     Running   0          109s   10.40.0.6   gke-dominic-gke-1-default-pool-601c4b2c-tqvk   &lt;none&gt;           &lt;none&gt;
</code></pre><p>íŒŒë“œê°€ <strong>gke-dominic-gke-1-default-pool-601c4b2c-tqvk</strong>ë¼ëŠ” ë…¸ë“œì— ë°°í¬ë˜ì–´ 1ê°œì˜ ì»¨í…Œì´ë„ˆê°€ ì˜ ì‹¤í–‰ë˜ì–´ìˆë‹¤.</p><p>kubectl expose ëª…ë ¹ì–´ë¡œ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œí•´ì„œ ì²´í¬í•´ë³´ì</p><pre><code>kubectl expose deployment hello-server --type=LoadBalancer --port 8080

&lt;---ê²°ê³¼ê°’---&gt;
service/hello-server exposed
</code></pre><p>kubectl get serviceë¡œ í™•ì¸í•´ë³´ë©´</p><pre><code>kubectl get services

&lt;---ê²°ê³¼ê°’---&gt;
NAME           TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE
hello-server   LoadBalancer   10.43.246.172   &lt;pending&gt;     8080:32709/TCP   33s
</code></pre><p>ìƒì„±í•œ serviceì˜ IPë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. <del>ì•„ì§ Pendingì´ë©´ ìš°ì„  ê¸°ë‹¤ë ¤ë³´ì.</del> ë‚´ ì„œë¹„ìŠ¤ LBì˜ IPëŠ” 34.134.44.184ë‹¤.
<img src=/img/gke_2.jpg alt="This is an image"></p><p>ì´ë ‡ê²Œ ì™¸ë¶€ì—ì„œ 8080 í¬íŠ¸ë¥¼ í†µí•´ ì ‘ê·¼í–ˆì„ ë•Œ, íŒŒë“œ ë‚´ ì»¨í…Œì´ë„ˆì˜ Hello, world webì´ ì ‘ê·¼ë˜ëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ê¹”ë”í•˜ë‹¤. CNIë„ ê³ ë¯¼ì—†ì´ ê·¸ëƒ¥ GKEì˜ CNIë¥¼ ì‚¬ìš©í–ˆë‹¤.
GKEì˜ CNIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê°€ìƒ ì´ë”ë„· ê¸°ê¸°(veth) ìŒì˜ í•œìª½ ëì€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ podì— ì—°ê²°ë˜ê³  ë‹¤ë¥¸ í•œìª½ ëì€ Linux ë¸Œë¦¬ì§€ ê¸°ê¸° cbr0ì— ì—°ê²°ëœë‹¤.</p><p><img src=/img/gke_3.jpg alt="This is an image"></p><p>ë„ì €íˆ í‹ˆì´ ë‚˜ì§€ ì•Šì•„ ì§„ë„ëŠ” ëª»ë‚˜ê°”ì§€ë§Œ, GKEë¥¼ í•œë²ˆ ì¨ë³¸ ê²ƒìœ¼ë¡œ ì¢€ ë” ëª…ë ¹ì–´ì— ìµìˆ™í•´ì§„ ëŠë‚Œì´ë„ê¹Œ&mldr;ğŸ˜…ğŸ˜…
<del>ê¸°ë¶„íƒ“ì¼ì§€ë„ ëª¨ë¥¸ë‹¤.</del></p></div><footer class=entry__footer><div class=entry__tags><a class="entry__tag btn" href=/tags/k8s/>k8s</a>
<a class="entry__tag btn" href=/tags/cka/>CKA</a>
<a class="entry__tag btn" href=/tags/kubernetes/>Kubernetes</a></div></footer></article></div></main><div class="authorbox block"><div class=author><figure class=author__avatar><img class=author__img alt="Dominic avatar" src=/img/avatar.png height=90 width=90></figure><div class=author__body><div class=author__name>Dominic</div><div class=author__bio>Dominic's true identity is unknown. Maybe he is a cute fairy or slave :D</div></div></div></div><div class="related block"><h3 class=related__title>Related</h3><ul class=related__list><li class=related__item><a class=related__link href=/post/cka/cka_%EC%A4%80%EB%B9%84-1210615/>CKA ì¤€ë¹„-1 (Netowking)</a></li><li class=related__item><a class=related__link href=/post/cka/cka_%EC%A4%80%EB%B9%84-2210621/>CKA ì¤€ë¹„-2 (compenent)</a></li><li class=related__item><a class=related__link href=/post/cka/cka/>CKAë¥¼ ì·¨ë“í•˜ê¸° ìœ„í•´ ì•Œì•„ë‘ì–´ì•¼ í•  ê²ƒë“¤</a></li></ul></div><section class="comments block"><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"dominic"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div><footer class=footer><div class="footer__social social"><a class=social__link target=_blank rel="noopener noreferrer" href=https://www.instagram.com/seob.199b><svg class="social__icon" aria-label="Instagram" role="img" width="32" height="32" viewBox="0 0 512 512"><g fill="none" stroke-width="29"><rect height="296" rx="78" width="296" x="108" y="108"/><circle cx="256" cy="256" r="69"/></g><circle cx="343" cy="169" r="19"/></svg></a><a class=social__link target=_blank rel="noopener noreferrer" href=https://linkedin.com/in/hanseob-lee-9655781aa><svg class="social__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg></a><a class=social__link target=_blank rel="noopener noreferrer" href=https://github.com/D0min1c><svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg></a></div><div class=footer__copyright>Â© 2021 Binario. <span class=footer__copyright-credits>Powered by <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/vimux/binario rel="nofollow noopener" target=_blank>Binario</a> theme.</span></div></footer><script src=/js/menu.js></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script><script src=/js/custom.js></script></body></html>